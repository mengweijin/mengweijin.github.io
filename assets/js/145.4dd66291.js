(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{568:function(s,a,t){"use strict";t.r(a);var n=t(28),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("假如有 java 应用程序：vitality-admin.jar。")]),s._v(" "),t("h3",{attrs:{id:"关于-javaw"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于-javaw"}},[s._v("#")]),s._v(" 关于 javaw")]),s._v(" "),t("p",[s._v("下面脚本中使用 javaw -jar vitality-admin.jar 的方式启动程序，意为后台启动，即不会出现命令提示符的黑窗口。")]),s._v(" "),t("h3",{attrs:{id:"javaw-启动-停止脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#javaw-启动-停止脚本"}},[s._v("#")]),s._v(" javaw 启动/停止脚本")]),s._v(" "),t("p",[s._v("启动脚本 vitality.bat，有如下执行命令：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动（vitality-admin.jar 和 vitality.bat 需要放在同一文件夹下。）")]),s._v("\nvitality.bat\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 然后需要键盘输入序号：1启动，2关闭，3重启，4启动状态，5退出")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 比如输入 1，就是启动的意思。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("启动时，需要手动选择编号，1启动，2关闭，3重启，4启动状态，5退出。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("rem 使用者应根据自身平台编码自行转换 防止乱码 例如 win使用gbk编码，可使用 windows 记事本设置编码。\n@echo off\n\nrem jar平级目录\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("AppName")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vitality-admin.jar\n\nrem JVM参数\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JVM_OPTS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Dname=%AppName% -Duser.timezone=Asia/Shanghai -Xms512m -Xmx1024m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=512m -XX:+HeapDumpOnOutOfMemoryError -Xlog:gc*,:time,tags,level -XX:+UseZGC"')]),s._v("\n\n\nECHO.\n\tECHO.  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 启动%AppName%\n\tECHO.  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 关闭%AppName%\n\tECHO.  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 重启%AppName%\n\tECHO.  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 启动状态 %AppName%\n\tECHO.  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 退 出\nECHO.\n\nECHO.请输入选择项目的序号:\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" /p "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ID")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n\tIF "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%id%"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v(" GOTO start\n\tIF "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%id%"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v(" GOTO stop\n\tIF "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%id%"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v(" GOTO restart\n\tIF "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%id%"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v(" GOTO status\n\tIF "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%id%"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v(" EXIT\nPAUSE\n:start\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" /f "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"usebackq tokens=1-2"')]),s._v(" %%a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("jps -l ^"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" findstr %AppName%"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%%a\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("image_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%%b\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v("  defined pid "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" %%is running\n\t\tPAUSE\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nstart javaw %JVM_OPTS% -jar %AppName%\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("  starting……\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("  Start %AppName% success"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\ngoto:eof\n\nrem 函数stop通过jps命令查找pid并结束进程\n:stop\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" /f "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"usebackq tokens=1-2"')]),s._v(" %%a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("jps -l ^"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" findstr %AppName%"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%%a\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("image_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%%b\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" not defined pid "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("echo process %AppName% does not exists"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" prepare to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" %image_name%\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" start "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" %pid% "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\t\trem 根据进程ID，kill进程\n\t\ttaskkill /f /pid %pid%\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ngoto:eof\n:restart\n\tcall :stop\n    call :start\ngoto:eof\n:status\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" /f "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"usebackq tokens=1-2"')]),s._v(" %%a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("jps -l ^"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" findstr %AppName%"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%%a\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("image_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%%b\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" not defined pid "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("echo process %AppName% is dead "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" %image_name% is running\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ngoto:eof\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br")])]),t("h3",{attrs:{id:"java-启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-启动"}},[s._v("#")]),s._v(" java 启动")]),s._v(" "),t("p",[s._v("由于 javaw 方式启动不会出现命令提示符黑窗口，并且通过 上面 vitality.bat 脚本内容启动的方式，需要手动选择序号来启动，这样就无法开机启动，并无法通过黑窗口看实时启动和运行日志。")]),s._v(" "),t("p",[s._v("因此下面提供一个简单的通过 java（而不是 javaw），启动的脚本（要关闭应用，直接关闭命令提示符黑窗口即可）。")]),s._v(" "),t("h4",{attrs:{id:"start-bat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start-bat"}},[s._v("#")]),s._v(" start.bat")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("@rem 使用者应根据自身平台编码自行转换 防止乱码 例如 win使用gbk编码\n@echo off\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("title")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Vitality-Service\n\n@rem 延时启动。这里倒计时 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 秒开始启动应用\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("  启动倒计时：\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" /T "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" /NOBREAK\n\nrem jar平级目录\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("AppName")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vitality-admin.jar\n\nrem JVM参数\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JVM_OPTS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Dname=%AppName% -Duser.timezone=Asia/Shanghai -Xms512m -Xmx1024m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=512m -XX:+HeapDumpOnOutOfMemoryError -XX:+PrintGCDateStamps  -XX:+PrintGCDetails -XX:NewRatio=1 -XX:SurvivorRatio=30 -XX:+UseParallelGC -XX:+UseParallelOldGC"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("  starting……\njava %JVM_OPTS% -jar %AppName%\nPAUSE\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h3",{attrs:{id:"开机自启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开机自启"}},[s._v("#")]),s._v(" 开机自启")]),s._v(" "),t("p",[s._v("将程序 vitality-admin.jar 和启动脚本 start.bat 放在同一目录，如：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("work"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("vitality-admin.jar\nD:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("work"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("start.bat\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("创建 start.bat 的快捷方式，复制到 Windows 的启动目录下：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ProgramData"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Microsoft"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Windows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Start Menu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Programs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Startup\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# C:\\ProgramData\\Microsoft\\Windows\\「开始」菜单\\程序\\启动")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 比如：")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ProgramData"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Microsoft"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Windows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Start Menu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Programs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Startup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("vitality_start.bat - 快捷方式\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("之后，只要重启操作系统，就可以自动打开命令提示符窗口，启动应用。")]),s._v(" "),t("p",[s._v("但这时候开机虽然启动了应用，但有一个命令提示符黑窗口出现在屏幕中央，我们希望开机启动的时候，自动最小化命令提示符黑窗口。这时候按照以下步骤设置：")]),s._v(" "),t("ul",[t("li",[s._v("右键单击【vitality_start.bat - 快捷方式】，选择【属性】")]),s._v(" "),t("li",[s._v("在【快捷方式】选项卡中，找到【运行方式】，默认值为【常规窗口】")]),s._v(" "),t("li",[s._v("这里修改为【最小化】，然后保存即可。")])]),s._v(" "),t("h4",{attrs:{id:"如果依赖其他服务比如-redis-需要先启动-redis-再启动-vitality-admin-jar-怎么办"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如果依赖其他服务比如-redis-需要先启动-redis-再启动-vitality-admin-jar-怎么办"}},[s._v("#")]),s._v(" 如果依赖其他服务比如 Redis，需要先启动 Redis 再启动 vitality-admin.jar 怎么办？")]),s._v(" "),t("p",[s._v("假如有如下启动脚本：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("work"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("redis_start.bat\nD:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("work"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("vitality_start.bat\nD:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("work"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("start_all.bat\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("我们可以新增加一个 start_all.bat 脚本:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("@echo off\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("title")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Start-All\n\n@rem /min: 启动时以最小化窗口的方式。\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" Redis Starting"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nstart /min redis_start.bat\n\n@rem 延时启动。这里延时时 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" 秒开始启动应用。"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("nul 意思是不显示过程。\n@rem 符号【"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("nul】等同于【"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v("nul】，是屏蔽操作成功显示的信息，但是出错还是会显示\n@rem 符号【"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v("nul】是屏蔽操作失败显示的信息，如果成功依旧显示。\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" /T "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" /NOBREAK "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("nul\n\n@rem 如果不加 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("nul 的话，命令如下：\n@rem 此时命令提示符窗口会显示：等待 n 秒，按 CTRL+C 退出"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n@rem 其中 n 是倒计时的秒数，会一直减一动态变化。\n@rem 如果不想显示倒计时这个过程，就加上 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("nul\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("  启动倒计时：\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" /T "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" /NOBREAK\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" Vitality Starting"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nstart /min vitality_start.bat\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("h3",{attrs:{id:"关于-call-和-start-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于-call-和-start-命令"}},[s._v("#")]),s._v(" 关于 call 和 start 命令")]),s._v(" "),t("p",[s._v("call 和 start 命令都可以在一个 a.bat 中调用另一个 b.bat 脚本，但也有一些不同。")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("call")]),s._v(": 通过call命令，我们可以调用另一个 bat 文件，执行完会再返回到原本的 bat 文件中继续执行。")]),s._v(" "),t("li",[t("strong",[s._v("start")]),s._v(": 假如我们希望另外启动一个新的 cmd 窗口来运行 b.bat，可以通过 start 命令来实现")])])])}),[],!1,null,null,null);a.default=e.exports}}]);