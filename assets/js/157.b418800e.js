(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{578:function(s,e,a){"use strict";a.r(e);var r=a(28),t=Object(r.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("官方文档："),a("a",{attrs:{href:"https://gradle.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://gradle.org/"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("w3cschool 教程："),a("a",{attrs:{href:"https://www.w3cschool.cn/gradle/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.w3cschool.cn/gradle/"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"gradle-安装-wrapper-方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gradle-安装-wrapper-方式"}},[s._v("#")]),s._v(" Gradle 安装（wrapper 方式）")]),s._v(" "),a("p",[s._v("在项目根路径下创建目录和文件：gradle/wrapper/gradle-wrapper.properties")]),s._v(" "),a("div",{staticClass:"language-gradle line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-bin.zip\n#distributionUrl=https\\://downloads.gradle-dn.com/distributions/gradle-7.4-bin.zip\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"基本配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本配置"}},[s._v("#")]),s._v(" 基本配置")]),s._v(" "),a("h4",{attrs:{id:"设置本地仓库地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置本地仓库地址"}},[s._v("#")]),s._v(" 设置本地仓库地址")]),s._v(" "),a("p",[s._v("默认本地仓库地址是：~/.gradle，Windows下会占用大量C盘空间。")]),s._v(" "),a("p",[s._v("设置环境变量，GRADLE_USER_HOME=D:/gradle/repository")]),s._v(" "),a("h4",{attrs:{id:"复用-maven-本地仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#复用-maven-本地仓库"}},[s._v("#")]),s._v(" 复用 Maven 本地仓库")]),s._v(" "),a("p",[s._v("在 repositories 配置 mavenLocal() 即可")]),s._v(" "),a("p",[s._v("Maven本地仓库查找路径：")]),s._v(" "),a("ul",[a("li",[s._v("USER_HOME/.m2/settings.xml")]),s._v(" "),a("li",[s._v("M2_HOME/conf/settings.xml")]),s._v(" "),a("li",[s._v("USER_HOME/.m2/repository")])]),s._v(" "),a("h4",{attrs:{id:"国内镜像加速"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#国内镜像加速"}},[s._v("#")]),s._v(" 国内镜像加速")]),s._v(" "),a("p",[s._v("国内访问国外仓库地址很慢，在每个项目中的 "),a("strong",[s._v("build.gradle")]),s._v(" 文件中设置 repositories")]),s._v(" "),a("div",{staticClass:"language-gradle line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("repositories {\n    mavenLocal()\n    maven { url 'https://maven.aliyun.com/repository/public/' }\n\tmaven { url 'https://maven.aliyun.com/repository/gradle-plugin' }\n\tmaven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n    mavenCentral()\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"最佳实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最佳实践"}},[s._v("#")]),s._v(" 最佳实践")]),s._v(" "),a("h4",{attrs:{id:"多模块配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多模块配置"}},[s._v("#")]),s._v(" 多模块配置")]),s._v(" "),a("p",[s._v("稍微大点的项目都会分模块开发，Gradle相比Maven的一个优势是用IDEA执行一个项目的代码时，会自动编译其依赖的其他模块。")]),s._v(" "),a("p",[s._v("在项目一级目录下添加 "),a("strong",[s._v("settings.gradle")]),s._v(" 配置文件：")]),s._v(" "),a("div",{staticClass:"language-gradle line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\x3c!-- 项目名称  --\x3e\nrootProject.name = 'my-roject-name'\n\ninclude 'module1'\ninclude 'module2'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("其中module1、module2就是子模块的文件夹名，在子模块里需要有一个配置子模块的 "),a("strong",[s._v("build.gradle")])]),s._v(" "),a("p",[s._v("模块内依赖，比如module2依赖module1，在module2的 "),a("strong",[s._v("build.gradle")]),s._v(" 配置文件里添加：")]),s._v(" "),a("div",{staticClass:"language-gradle line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('dependencies {\n    compile project(":module1")\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);